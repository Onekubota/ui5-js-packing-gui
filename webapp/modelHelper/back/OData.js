/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["zscm/ewm/packoutbdlvs1/utils/Util","zscm/ewm/packoutbdlvs1/utils/Const","zscm/ewm/packoutbdlvs1/modelHelper/Global","zscm/ewm/packoutbdlvs1/modelHelper/Material"],function(U,C,G,M){"use strict";var _;return{init:function(d){_=d;return this;},destroy:function(){_=null;},getDefaultBinPath:function(b){b=this.encodeSpecialCharacter(b);var t="/PackingStationSet(EWMWarehouse=''{0}'',EWMWorkCenter=''{1}'',EWMStorageBin=''{2}'')";return U.formatText(t,[G.getWarehouseNumber(),G.getPackStation(),b]);},getWorkCenterPath:function(w){w=this.encodeSpecialCharacter(w);var t="/PackingStationSet(EWMWarehouse=''{0}'',EWMWorkCenter=''{1}'',EWMStorageBin='''')";return U.formatText(t,[G.getWarehouseNumber(),w]);},getHUPath:function(h,H){if(!h){h=G.getSourceId();}if(H===undefined){H=G.getSourceType();}h=this.encodeSpecialCharacter(h);var t="/HUSet(HuId=''{0}'',EWMStorageBin=''{1}'',EWMWarehouse=''{2}'',EWMWorkCenter=''{3}'',Type=''{4}'')";return U.formatText(t,[h,G.getBin(),G.getWarehouseNumber(),G.getPackStation(),H]);},getUpdateHUPath:function(){var h=this.encodeSpecialCharacter(G.getCurrentShipHandlingUnit());var t="/HUSet(HuId=''{0}'',EWMWarehouse=''{1}'',EWMWorkCenter=''{2}'',EWMStorageBin=''{3}'',Type=''1'')";return U.formatText(t,[h,G.getWarehouseNumber(),G.getPackStation(),G.getBin()]);},getHUInfo:function(h,t){var p=this.getHUPath(h,t);return _.getProperty(p);},getHUItemsPath:function(h,t){return this.getHUPath(h,t)+"/Items";},getPackagingMaterialPath:function(){var t="/PackingStationSet(EWMWarehouse=''{0}'',EWMWorkCenter=''{1}'',EWMStorageBin='''')/PackMats";return U.formatText(t,[G.getWarehouseNumber(),G.getPackStation()]);},getProductPath:function(s){var t="/ItemSet(guid''{0}'')";return U.formatText(t,s);},getShipHUMaterialId:function(h){var p=this.getHUPath(h,C.SHIP_TYPE_HU)+"/PackagingMaterial";return _.getProperty(p);},getPackageMaterial:function(){var m=M.getCurrentMaterial();return m.PackagingMaterial;},getExceptionPackParameters:function(p,q,e,u){return{"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","IsPackAll":false,"PackagingMaterial":"'"+this.getPackageMaterial()+"'","Quan":q+"M","Exccode":"'"+e+"'","SnList":"'"+p.SnList+"'","StockItemUUID":"guid'"+p.StockItemUUID+"'","AlternativeUnit":u?"'"+u+"'":"''"};},getPackParameters:function(p,q,u){var P={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","IsPackAll":false,"PackagingMaterial":"'"+this.getPackageMaterial()+"'","SnList":"'"+p.SnList+"'","OrdReduction":U.parseNumber(p.QtyReduced)!==0?true:false,"StockItemUUID":"guid'"+p.StockItemUUID+"'","AlternativeUnit":u?"'"+u+"'":"''"};if(q){P.Quan=q+"M";}return P;},getPackAllParameters:function(p){return{"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","IsPackAll":true,"PackagingMaterial":"'"+this.getPackageMaterial()+"'"};},getUnpackParameters:function(p,n){var P={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","StockItemUUID":"guid'"+p.StockItemUUID+"'","IsUnPackAll":false,"PackagingMaterial":"'"+G.getSourceMaterialId()+"'"};if(n){P.Quan=U.parseNumber(p.AlterQuan)+"M";}return P;},getPrintParameters:function(){return{"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","HUId":"'"+G.getCurrentShipHandlingUnit()+"'"};},getUnpackAllParameters:function(p){return{"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","IsUnPackAll":true,"Quan":"0M","PackagingMaterial":"'"+G.getSourceMaterialId()+"'"};},getCloseShipHandlingUnitParameters:function(){var p={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","EWMStorageBin":"'"+G.getBin()+"'"};return p;},getChangeMaterialParameters:function(h){var p={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"''","ShippingHUIdOld":"'"+G.getCurrentShipHandlingUnit()+"'","ShippingHUIdNew":"'"+h+"'","SourceType":"'"+G.getSourceType()+"'","SourcePackMat":"'"+G.getSourceMaterialId()+"'","ShippingHUPackMat":"'"+M.getSelectedMaterialId()+"'"};return p;},getVarifyProductEANParameters:function(v){var p={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","ProductName":"'"+v+"'"};return p;},getDeleteHUParameters:function(){var p={"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"''","ShippingHUIdOld":"'"+G.getCurrentShipHandlingUnit()+"'","ShippingHUIdNew":"''","SourceType":"'"+G.getSourceType()+"'","SourcePackMat":"'"+G.getSourceMaterialId()+"'","ShippingHUPackMat":"'"+M.getSelectedMaterialId()+"'","DeleteShippingHUOnly":"true"};return p;},getValidateSnParamters:function(p,s){return{"EWMWarehouse":"'"+G.getWarehouseNumber()+"'","EWMWorkCenter":"'"+G.getPackStation()+"'","EWMStorageBin":"'"+G.getBin()+"'","SourceId":"'"+G.getSourceId()+"'","ShippingHUId":"'"+G.getCurrentShipHandlingUnit()+"'","SourceType":"'"+G.getSourceType()+"'","DocumentReltdStockDocUUID":"guid'"+p.DocumentReltdStockDocUUID+"'","DocumentReltdStockDocItemUUID":"guid'"+p.DocumentReltdStockDocItemUUID+"'","ProductName":"'"+p.ProductName+"'","EWMSerialNumber":"'"+s+"'","StockItemUUID":"guid'"+p.StockItemUUID+"'"};},getScaleWeightData:function(){return{"EWMWarehouse":G.getWarehouseNumber(),"EWMWorkCenter":G.getPackStation(),"EWMStorageBin":G.getBin(),"Huid":this.encodeSpecialCharacter(G.getCurrentShipHandlingUnit())};},encodeSpecialCharacter:function(i){if(!U.isEmpty(i)){return i.replace(/#/g,"%23");}},isShipHUClosed:function(h){var c=false;var H;h=h?h:G.getCurrentShipHandlingUnit();if(!U.isEmpty(h)&&(H=this.getHUInfo(h,C.SHIP_TYPE_HU))){c=H.Closed;}return c;}};});
